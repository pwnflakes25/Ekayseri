<section>

    <div class="card">
        <p class="subheader">Manage Roles</p>

        <div class="setting-header row justify-content-between">
            <div class="user-search-field input-field col s3">
                <i class="material-icons prefix">search</i>
                <input type="text" placeholder="Search Event" [formControl]="eventSearchInput" name="eventSearch">
            </div>
            <div class="col s9">
                <mat-paginator #userPaginator
                    [ngClass]="{ 'hide': userDataCount <= 0, 'hide-pagination-buttons': userDataCount <= 10 }"
                    [length]="userDataCount" [hidePageSize]="true" [pageSize]="[10]" showFirstLastButtons>
                </mat-paginator>
            </div>
        </div>

        <table mat-table [dataSource]="usersList">

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Full Name </th>
                <td mat-cell *matCellDef="let element"> {{ element?.fullName }} </td>
            </ng-container>

            <ng-container matColumnDef="roles">
                <th mat-header-cell *matHeaderCellDef> Roles </th>
                <td mat-cell *matCellDef="let element">
                    <mat-chip-list class="chips">
                        <mat-chip *ngFor="let role of element?.roles">{{ role }}</mat-chip>
                    </mat-chip-list>
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let element" class="actions">
                    <mat-icon [routerLink]="['/event-detail']"
                    [queryParams]="{eventId: element?.eventId, date: element?.date}">visibility</mat-icon>
                    <mat-icon (click)="onEditRoles(element)">edit</mat-icon>
                </td>
            </ng-container>

            <ng-container matColumnDef="loading">
                <th mat-header-cell *matHeaderCellDef colspan="4" class="text-center">
                    <app-spinner></app-spinner>
                </th>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedEventTableColumns" sticky></tr>
            <tr mat-header-row *matHeaderRowDef="['loading']" [hidden]="!isLoading"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedEventTableColumns"></tr>
        </table>
    </div>
</section>